#                                      #-------Warning-------#                                      #
## This is a file created by merging the files in conf.d
## Any changes made on this file will be lost when i3 reloads.

# This config file will use environmental variables such as $BROWSER and $TERMINAL,
# You can set these variables in ~/.profile or ~/.bash_profile if you have it as below:
# export BROWSER="firefox"
# export TERMINAL="termite"
# export EDITOR="vim"
# otherwise you can set them bellow as variables: "$term" "$browsr" "$myeditor"

# General Configurations

set $mod Mod4
floating_modifier $mod
font pango:mono 10
exec "setxkbmap -model pc104 -layout us,gr -variant ,, -option grp:alt_shift_toggle"
exec --no-startup-id dunst
exec --no-startup-id xcompmgr
exec_always --no-startup-id "(checkup)"
#exec --no-startup-id "(sleep 10 && getforecast)"

# This is what merges all of the config files into one.
set $i3restart "exec cat ~/.config/i3/conf.d/* > ~/.config/i3/config && i3-msg restart"

# Programs
set $term               $TERMINAL
set $browsr             $BROWSER
# set $myeditor         $EDITOR
set $myeditor           subl3
set $launcher           i3-dmenu-desktop \\"--dmenu=dmenu -i -nf '#BBBBBB' -nb '#505050' -sb '#282828' -sf '#EEEEEE' -fn 'monospace-10'\\"
set $fm                 pcmanfm-qt
set $calc               galculator
set $screenshot         maim -m 1                               ~/Pictures/Screenshots/$(date '+%Y-%m-%d-%H:%M:%S').png
set $snipwindow			maim -m 1 -i $(xdotool getactivewindow) ~/Pictures/Screenshots/$(date '+%Y-%m-%d-%H:%M:%S').png
set $sniparea			maim -m 1 -s 							~/Pictures/Screenshots/$(date '+%Y-%m-%d-%H:%M:%S').png
set $setwall            xwallpaper --center  
set $volup              pactl set-sink-volume 0 +1%
set $voldown            pactl set-sink-volume 0 -1%
set $volmute            pactl set-sink-mute   0 toggle
set $playlink           mpv $(xclip -o)
# set $mediactlplaypause  playerctl       play-pause    # uninstalled
# set $mediactlnext       playerctl       next          # uninstalled
# set $mediactlprevious   playerctl       previous      # uninstalled
# set $netrefresh         sudo -A systemctl restart systemd-networkd.service

# Window settings
new_window pixel 1
new_float normal
hide_edge_borders none

# Application specific rules ($xprop find the name)
assign      [class="RocketLeague"]   $ws1
for_window  [class="Galculator"]     floating enable
for_window  [class="Lxappearance"]   floating enable
for_window  [class="Gcolor3"]        floating enable
for_window  [class="Termite"]        border pixel 1
for_window  [title="pulsemixer"]     floating enable move position center
for_window  [title="PulseAudio Equalizer"] floating enable move position center
for_window  [title="qpaeq"] floating enable move position center
# for_window  [class="Skype"]          floating enable
# for_window  [class="Spotify"]        move to workspace $ws10
# for_window [class="(?i)virtualbox"] floating enable border normal

set $ws1 "i"
set $ws2 ">_"
set $ws3 "iii"
set $ws4 "iv"
set $ws5 "v"
set $ws6 "vi"
set $ws7 "vii"
set $ws8 "viii"
set $ws9 "ix"
set $ws10 "x"

set $wallpaper ~/.config/wall.png
exec_always --no-startup-id $setwall $wallpaper

# Class                 BORDER    BACKGRND   TEXT    INDICATOR CHILD_BRDR
client.focused          #5F676A   #505050    #C6C6C6 #000000   #5F676A
client.unfocused        #00000000 #3D3D3E    #C6C6C6 #000000   #000000
client.focused_inactive #00000000 #3D3D3E    #C6C6C6 #000000   #000000
client.urgent           #4E0000   #3D3D3E    #FF6969 #000000   #000000
client.background       #FFFFFF
    
bar {
        font pango:mono 10
        tray_output primary
        tray_padding 1
        separator_symbol "-"
        status_command i3blocks
        position top
    colors {
        background          #3D3D3E
        statusline          #FFFFFF
        separator           #FFFFFF
        focused_workspace   #3D3D3E     #505050      #C6C6C6
        active_workspace    #3D3D3E     #505050      #C6C6C6
        inactive_workspace  #3D3D3E     #222222      #C6C6C6
        urgent_workspace    #4E0000     #222222      #FF6969
    }
}

# # Gap settings (uncomment if you are using i3-gaps)
# gaps inner 6
# gaps outer -2
# smart_gaps on
# smart_borders on
# 
# # $mod+Shift+g → gap mode || o or i  →  modifying outer/inner gaps. 
# # + / - (in-/decrement for current workspace) or 0 remove gaps. 
# # Shift with these keys → change will be global for all workspaces.
# set $mode_gaps Gaps: (o) outer, (i) inner
# set $mode_gaps_outer Outer Gaps: +|-|0 (local), Shift + +|-|0 (global)
# set $mode_gaps_inner Inner Gaps: +|-|0 (local), Shift + +|-|0 (global)
# 
# mode "$mode_gaps" {
#     bindsym o      mode "$mode_gaps_outer"
#     bindsym i      mode "$mode_gaps_inner"
#     bindsym Return mode "default"
#     bindsym Escape mode "default"
# }
# 
# mode "$mode_gaps_inner" {
#     bindsym plus  gaps inner current plus 5
#     bindsym minus gaps inner current minus 5
#     bindsym 0     gaps inner current set 0
# 
#     bindsym Shift+plus  gaps inner all plus 5
#     bindsym Shift+minus gaps inner all minus 5
#     bindsym Shift+0     gaps inner all set 0
# 
#     bindsym Return mode "default"
#     bindsym Escape mode "default"
# }
# 
# mode "$mode_gaps_outer" {
#     bindsym plus  gaps outer current plus 5
#     bindsym minus gaps outer current minus 5
#     bindsym 0     gaps outer current set 0
# 
#     bindsym Shift+plus  gaps outer all plus 5
#     bindsym Shift+minus gaps outer all minus 5
#     bindsym Shift+0     gaps outer all set 0
# 
#     bindsym Return mode "default"
#     bindsym Escape mode "default"
# }

#       Keybind             Command
bindsym $mod+d              exec $launcher
bindsym $mod+grave          bar mode toggle
bindsym $mod+Shift+q        kill
bindsym $mod+Shift+c        reload
bindsym $mod+Shift+r        $i3restart
bindsym $mod+a              focus parent
bindsym $mod+Shift+space    floating toggle
bindsym $mod+space          focus mode_toggle 
bindsym $mod+s              layout stacking  
bindsym $mod+w              layout tabbed
bindsym $mod+e              layout toggle split
#                           Split Orientation / Mode
bindsym $mod+b              split h
bindsym $mod+v              split v
bindsym $mod+f              fullscreen toggle
#                           Change borders
bindsym $mod+u              border none
bindsym $mod+y              border pixel 1
bindsym $mod+n              border normal
#                           Programs
bindsym $mod+Return         exec --no-startup-id $term
bindsym $mod+z              exec --no-startup-id $browsr
bindsym $mod+x              exec --no-startup-id $myeditor
bindsym $mod+c              exec --no-startup-id $fm
bindsym $mod+g              exec --no-startup-id $calc
#                           Screen Shots
bindsym Print               exec --no-startup-id $screenshot
bindsym Shift+Print         exec --no-startup-id $snipwindow
bindsym ctrl+Print         exec --no-startup-id $sniparea
#                      Select a yt url/file path to play with mpv
bindsym $mod+p              exec --no-startup-id $playlink
#                           MODES
bindsym Pause               mode "$Pause-break"
bindsym $mod+F12            mode "$mode_display"
bindsym $mod+Shift+g        mode "$mode_gaps"
#                           Change Focus
bindsym $mod+h              focus left
bindsym $mod+j              focus down
bindsym $mod+k              focus up
bindsym $mod+l              focus right
bindsym $mod+Left           focus left
bindsym $mod+Down           focus down
bindsym $mod+Up             focus up
bindsym $mod+Right          focus right
#                           Move
bindsym $mod+Shift+h        move left
bindsym $mod+Shift+j        move down
bindsym $mod+Shift+k        move up
bindsym $mod+Shift+l        move right
bindsym $mod+Shift+Left     move left
bindsym $mod+Shift+Down     move down
bindsym $mod+Shift+Up       move up
bindsym $mod+Shift+Right    move right
#                           Switch to workspace
bindsym $mod+1              workspace $ws1
bindsym $mod+2              workspace $ws2
bindsym $mod+3              workspace $ws3
bindsym $mod+4              workspace $ws4
bindsym $mod+5              workspace $ws5
bindsym $mod+6              workspace $ws6
bindsym $mod+7              workspace $ws7
bindsym $mod+8              workspace $ws8
bindsym $mod+9              workspace $ws9
bindsym $mod+0              workspace $ws10
#                           Move focused container to workspace
bindsym $mod+Shift+1        move container to workspace $ws1
bindsym $mod+Shift+2        move container to workspace $ws2
bindsym $mod+Shift+3        move container to workspace $ws3
bindsym $mod+Shift+4        move container to workspace $ws4
bindsym $mod+Shift+5        move container to workspace $ws5
bindsym $mod+Shift+6        move container to workspace $ws6
bindsym $mod+Shift+7        move container to workspace $ws7
bindsym $mod+Shift+8        move container to workspace $ws8
bindsym $mod+Shift+9        move container to workspace $ws9
bindsym $mod+Shift+0        move container to workspace $ws10
#                           Resize
bindsym $mod+Mod1+h         resize shrink width   1 px or 1 ppt
bindsym $mod+Mod1+j         resize grow   height  1 px or 1 ppt
bindsym $mod+Mod1+k         resize shrink height  1 px or 1 ppt
bindsym $mod+Mod1+l         resize grow   width   1 px or 1 ppt
bindsym $mod+Mod1+Left      resize shrink width   1 px or 1 ppt
bindsym $mod+Mod1+Down      resize grow   height  1 px or 1 ppt
bindsym $mod+Mod1+Up        resize shrink height  1 px or 1 ppt
bindsym $mod+Mod1+Right     resize grow   width   1 px or 1 ppt

set $Pause-break        System (l)lock, (Shift+l) lock-screen-off, (e) exit, (s) suspend, (r) reboot, (Shift+s) shutdown
mode "$Pause-break" {
    bindsym e       exec --no-startup-id i3-msg     exit, mode "default"
    bindsym s       exec --no-startup-id systemctl  suspend, mode "default"
    bindsym r       exec --no-startup-id systemctl  reboot, mode "default"
    bindsym Shift+s exec --no-startup-id systemctl  poweroff -i, mode "default"
    bindsym l       exec --no-startup-id "i3lock -e -f -c 000000 -i ~/.config/wall.png -t", mode "default"
    bindsym Shift+l exec --no-startup-id "i3lock -e -f -c 000000 -i ~/.config/wall.png -t; sleep 5 && pgrep -x i3lock && xset dpms force off", mode "default"

    bindsym Return  mode "default"
    bindsym Escape  mode "default"
}

# Monitor layout.

set $lgmonitor HDMI-0
set $samonitor DP-1

exec --no-startup-id xrandr --output $lgmonitor --mode 1920x1080 --rotate normal --primary --output $samonitor --rotate normal --mode 1920x1080 --right-of $lgmonitor

workspace $ws1 output $lgmonitor
workspace $ws2 output $samonitor
workspace $ws10 output $samonitor

set $mode_display Monitor layout (m) mirrored, (d) dual, (Shift+d) dual-horrizontal+vertical
mode "$mode_display" {
    bindsym m           exec --no-startup-id xrandr --output $lgmonitor --mode 1920x1080 --rotate normal --primary --output $samonitor --rotate normal  --mode 1920x1080 --same-as  $lgmonitor; mode "default"
    bindsym d           exec --no-startup-id xrandr --output $lgmonitor --mode 1920x1080 --rotate normal --primary --output $samonitor --rotate normal  --mode 1920x1080 --right-of $lgmonitor; mode "default"
    bindsym Shift+d     exec --no-startup-id xrandr --output $lgmonitor --mode 1920x1080 --rotate normal --primary --output $samonitor --rotate left    --mode 1920x1080 --right-of $lgmonitor, mode "default"
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# Media player controls
bindsym XF86AudioPlay                   exec --no-startup-id $mediactlplaypause
bindsym XF86AudioNext                   exec --no-startup-id $mediactlnext
bindsym XF86AudioPrev                   exec --no-startup-id $mediactlprevious

# Pulse Audio controls 
bindsym XF86AudioRaiseVolume            exec --no-startup-id $volup
bindsym XF86AudioLowerVolume            exec --no-startup-id $voldown
bindsym XF86AudioMute                   exec --no-startup-id $volmute

#                                      #---Extra XF86 Keys---#                                      #
#                      These are the extra media keys that some keyboards have.                     #

# bindsym XF86PowerOff                  mode "$System"
# bindsym XF86WLAN                      exec --no-startup-id $netrefresh
# bindsym XF86Launch1                   exec --no-startup-id xset dpms force off
# bindsym XF86Copy                      exec
# bindsym XF86Open                      exec
# bindsym XF86Paste                     exec
# bindsym XF86Cut                       exec
# bindsym XF86MenuKB                    exec
# bindsym XF86Calculator                exec
# bindsym XF86Sleep                     This binding is typically mapped by systemd automatically.
# bindsym XF86WakeUp                    exec
# bindsym XF86Explorer                  exec
# bindsym XF86Send                      exec
# bindsym XF86Xfer                      exec
# bindsym XF86WWW                       exec
# bindsym XF86DOS                       exec
# bindsym XF86ScreenSaver               exec
# bindsym XF86RotateWindows             exec
# bindsym XF86TaskPane                  exec
# bindsym XF86Favorites                 exec
# bindsym XF86MyComputer                exec
# bindsym XF86Back
# bindsym XF86Forward
# bindsym XF86Eject                     exec
# bindsym XF86AudioNext                 exec
# bindsym XF86AudioPlay                 exec
# bindsym XF86AudioPrev                 exec
# bindsym XF86AudioStop                 exec
# bindsym XF86AudioRecord               exec
# bindsym XF86AudioRewind               exec
# bindsym XF86AudioForward              exec
# bindsym XF86Phone                     exec
# bindsym XF86Tools                     exec
# bindsym XF86HomePage                  exec
# bindsym XF86Reload                    restart
# bindsym XF86ScrollUp                  exec
# bindsym XF86ScrollDown                exec
# bindsym XF86New                       exec
# bindsym XF86LaunchA                   exec
# bindsym XF86LaunchB                   exec
# bindsym XF86Launch2                   exec
# bindsym XF86Launch3                   exec
# bindsym XF86Launch4                   exec
# bindsym XF86Launch5                   exec
# bindsym XF86Launch6                   exec
# bindsym XF86Launch7                   exec
# bindsym XF86Launch8                   exec
# bindsym XF86Launch9                   exec
# bindsym XF86AudioMicMute              exec
# bindsym XF86TouchpadToggle            exec
# bindsym XF86TouchpadOn                exec --no-startup-id synclient TouchpadOff=0
# bindsym XF86TouchpadOff               exec --no-startup-id synclient TouchpadOff=1
# bindsym XF86Suspend                   exec
# bindsym XF86Close                     kill
# bindsym XF86WebCam                    exec
# bindsym XF86Mail                      exec
# bindsym XF86Messenger                 exec
# bindsym XF86Search                    exec $BROWSER https://duckduckgo.com
# bindsym XF86Go                        exec
# bindsym XF86Finance                   exec
# bindsym XF86Game                      exec
# bindsym XF86Shop                      exec
# bindsym XF86MonBrightnessDown         exec
# bindsym XF86MonBrightnessUp           exec
# bindsym XF86AudioMedia                exec
# bindsym XF86Display                   exec
# bindsym XF86KbdLightOnOff             exec
# bindsym XF86KbdBrightnessDown         exec
# bindsym XF86KbdBrightnessUp           exec
# bindsym XF86Reply                     exec
# bindsym XF86MailForward               exec
# bindsym XF86Save                      exec
# bindsym XF86Documents                 exec
# bindsym XF86Battery                   exec
# bindsym XF86Bluetooth                 exec
