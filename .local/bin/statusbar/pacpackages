#!/bin/bash

# i3blocks module for pacman upgrades.
# Displays number of upgradeable packages.

case $BLOCK_BUTTON in
	1) $TERMINAL -e popupgrade ;;
	2) notify-send "$(cat /tmp/available_updates" ;;
	3) pgrep -x dunst >/dev/null && notify-send "Upgrade module:
ï€¡: number of upgradable packages
- Left click to upgrade packages
- Middle click to show upgradable packages" ;;
esac

local -i NUM
NUM=$( cat /tmp/available_updates | wc -l )
if [[ $NUM -ge 1 ]]; then
	echo "$NUM"
fi
